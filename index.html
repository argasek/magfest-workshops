<!doctype html>
<html>
<head>
  <title>Demoscene workshops</title>
  <style type="text/css">
    canvas {
      border: 1px solid black;
      image-rendering: pixelated;
    }
  </style>
</head>
<body>
  <canvas id="tutorial" width="640" height="480"></canvas>
  <script>
    const canvas = document.getElementById('tutorial');
    const ctx = canvas.getContext('2d');
    const imageData = ctx.createImageData(1, 1);

    const putPixel = (x, y, r, g, b, a = 255) => {
      const d = imageData.data;
      d[0] = r;
      d[1] = g;
      d[2] = b;
      d[3] = a;
      ctx.putImageData(imageData, x, y);
    };

    const drawTexture = (texWidth, texHeight) => {

      for(y = 0; y < texHeight; y++) {
        for(x = 0; x < texWidth; x++) {
          const color = (x * 256 / texWidth) ^ (y * 256 / texHeight);
          putPixel(x, y, color, color, color);
        }
      }
    };

    drawTexture(128, 128);

  </script>
</body>
</html>
